      document.getElementById('shortUrl').innerText = `Short URL: `;
      const link = document.createElement('a');
      link.href = fullShortUrl;
      link.textContent = fullShortUrl;
      link.target = '_blank';
      document.getElementById('shortUrl').appendChild(link);
      document.getElementById('shortUrl').dataset.fullUrl = fullShortUrl; // Store the full URL in a data attribute
    }


    <script>
    async function shortenUrl() {
      const originalUrl = document.getElementById('originalUrl').value;

      if (!isValidUrl(originalUrl)) {
        displayError('Please enter a valid URL.');
        return;
      }

      const response = await fetch('/shorten', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ originalUrl }),
      });

      const data = await response.json();
      const websiteUrl = await getWebsiteUrl();
      const fullShortUrl = `${websiteUrl}/${data.shortUrl}`;

      document.getElementById('shortUrl').innerHTML = `Short URL: <a href="${fullShortUrl}" target="_blank">${fullShortUrl}</a>`;
      document.getElementById('shortUrl').dataset.fullUrl = fullShortUrl; // Store the full URL in a data attribute
    }


    function isValidUrl(url) {
      const urlPattern = /^(https?|ftp):\/\/[^\s/$.?#].[^\s]*$/i;
      return urlPattern.test(url);
    }

    function copyToClipboard() {
      const shortUrlElement = document.getElementById('shortUrl');
      const fullUrl = shortUrlElement.dataset.fullUrl;

      if (!fullUrl) {
        displayError('No URL to copy.');
        return;
      }

      const tempInput = document.createElement('input');
      tempInput.value = fullUrl;
      document.body.appendChild(tempInput);
      tempInput.select();
      document.execCommand('copy');
      document.body.removeChild(tempInput);

      alert('Copied to clipboard!');
    }

    async function getWebsiteUrl() {
      const response = await fetch('/config');
      const config = await response.json();
      return config.website_url;
    }

    function toggleFooter() {
      const footer = document.getElementById('footer');
      const currentDisplay = window.getComputedStyle(footer).getPropertyValue('display');
      footer.style.display = currentDisplay === 'none' ? 'block' : 'none';
    }

    function displayError(message) {
      const errorPopup = document.getElementById('errorPopup');
      const errorMessage = document.getElementById('errorMessage');

      errorMessage.innerText = message;
      errorPopup.style.display = 'block';

      setTimeout(() => {
        errorPopup.style.display = 'none';
      }, 3000); // Hide the error popup after 3 seconds
    }
  </script>